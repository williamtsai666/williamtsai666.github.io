

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.ico">
  <link rel="icon" href="/img/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="wtsai92">
  <meta name="keywords" content="">
  
    <meta name="description" content="1. 基本的bash shell命令Linux 文件系统常见Linux目录名称   目    录 用    途    &#x2F; 虚拟目录的根目录。通常不会在这里存储文件   &#x2F;bin 二进制目录，存放许多用户级的GNU工具   &#x2F;boot 启动目录，存放启动文件   &#x2F;dev 设备目录，Linux在这里创建设备节点   &#x2F;etc 系统配置文件目录   &amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux命令行(1)Linux Bash Shell命令">
<meta property="og:url" content="https://wtsai92.github.io/2018/02/14/linux-cmd-1-bash-shell-command/index.html">
<meta property="og:site_name" content="夏夜的博客">
<meta property="og:description" content="1. 基本的bash shell命令Linux 文件系统常见Linux目录名称   目    录 用    途    &#x2F; 虚拟目录的根目录。通常不会在这里存储文件   &#x2F;bin 二进制目录，存放许多用户级的GNU工具   &#x2F;boot 启动目录，存放启动文件   &#x2F;dev 设备目录，Linux在这里创建设备节点   &#x2F;etc 系统配置文件目录   &amp;">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-02-14T03:11:28.000Z">
<meta property="article:modified_time" content="2023-12-28T08:47:05.829Z">
<meta property="article:author" content="wtsai92">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Shell">
<meta name="twitter:card" content="summary_large_image">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Linux命令行(1)Linux Bash Shell命令 - 夏夜的博客</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"wtsai92.github.io","root":"/","version":"1.9.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>夏夜的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/reading/">
                <i class="iconfont icon-books"></i>
                <span>读书</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/night-sky.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Linux命令行(1)Linux Bash Shell命令"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2018-02-14 11:11" pubdate>
          2018年2月14日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          15k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          128 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Linux命令行(1)Linux Bash Shell命令</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="1-基本的bash-shell命令"><a href="#1-基本的bash-shell命令" class="headerlink" title="1. 基本的bash shell命令"></a>1. 基本的bash shell命令</h2><h3 id="Linux-文件系统"><a href="#Linux-文件系统" class="headerlink" title="Linux 文件系统"></a>Linux 文件系统</h3><h4 id="常见Linux目录名称"><a href="#常见Linux目录名称" class="headerlink" title="常见Linux目录名称"></a>常见Linux目录名称</h4><table>
<thead>
<tr>
<th>目    录</th>
<th>用    途</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;</td>
<td>虚拟目录的根目录。通常不会在这里存储文件</td>
</tr>
<tr>
<td>&#x2F;bin</td>
<td>二进制目录，存放许多用户级的GNU工具</td>
</tr>
<tr>
<td>&#x2F;boot</td>
<td>启动目录，存放启动文件</td>
</tr>
<tr>
<td>&#x2F;dev</td>
<td>设备目录，Linux在这里创建设备节点</td>
</tr>
<tr>
<td>&#x2F;etc</td>
<td>系统配置文件目录</td>
</tr>
<tr>
<td>&#x2F;home</td>
<td>主目录，Linux在这里创建用户目录</td>
</tr>
<tr>
<td>&#x2F;lib</td>
<td>库目录，存放系统和应用程序的库文件</td>
</tr>
<tr>
<td>&#x2F;media</td>
<td>媒体目录，可移动媒体设备的常用挂载点</td>
</tr>
<tr>
<td>&#x2F;mnt</td>
<td>挂载目录，另一个可移动媒体设备的常用挂载点</td>
</tr>
<tr>
<td>&#x2F;opt</td>
<td>可选目录，常用于存放第三方软件包和数据文件</td>
</tr>
<tr>
<td>&#x2F;proc</td>
<td>进程目录，存放现有硬件及当前进程的相关信息</td>
</tr>
<tr>
<td>&#x2F;root</td>
<td>root用户的主目录</td>
</tr>
<tr>
<td>&#x2F;sbin</td>
<td>系统二进制目录，存放许多GNU管理员级工具</td>
</tr>
<tr>
<td>&#x2F;run</td>
<td>运行目录，存放系统运作时的运行时数据</td>
</tr>
<tr>
<td>&#x2F;srv</td>
<td>服务目录，存放本地服务的相关文件</td>
</tr>
<tr>
<td>&#x2F;sys</td>
<td>系统目录，存放系统硬件信息的相关文件</td>
</tr>
<tr>
<td>&#x2F;tmp</td>
<td>临时目录，可以在该目录中创建和删除临时工作文件</td>
</tr>
<tr>
<td>&#x2F;usr</td>
<td>用户二进制目录，大量用户级的GNU工具和数据文件都存储在这里</td>
</tr>
<tr>
<td>&#x2F;var</td>
<td>可变目录，用以存放经常变化的文件，比如日志文件</td>
</tr>
</tbody></table>
<h4 id="查看帮助命令"><a href="#查看帮助命令" class="headerlink" title="查看帮助命令"></a>查看帮助命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">man <span class="hljs-built_in">command</span><br>e.g. man <span class="hljs-built_in">ls</span><br><br><span class="hljs-built_in">command</span> --<span class="hljs-built_in">help</span><br>e.g. <span class="hljs-built_in">ls</span> --<span class="hljs-built_in">help</span><br></code></pre></td></tr></table></figure>

<h4 id="遍历目录-cd"><a href="#遍历目录-cd" class="headerlink" title="遍历目录(cd)"></a>遍历目录(<code>cd</code>)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> destination<br><span class="hljs-comment"># 绝对文件路径(以斜线/开始)</span><br>christine@server01:~$ <span class="hljs-built_in">cd</span> /usr/bin <br>christine@server01:/usr/bin$  <br><br><span class="hljs-comment"># 当前工作目录</span><br>christine@server01:/usr/bin$ <span class="hljs-built_in">pwd</span> <br>/usr/bin <br><br><span class="hljs-comment"># 相对文件路径</span><br><span class="hljs-comment"># 单点符（.），表示当前目录</span><br><span class="hljs-comment"># 双点符（..），表示当前目录的父目录</span><br>christine@server01:~/Documents$ <span class="hljs-built_in">cd</span> ..<br></code></pre></td></tr></table></figure>

<h3 id="文件和目录列表-ls"><a href="#文件和目录列表-ls" class="headerlink" title="文件和目录列表(ls)"></a>文件和目录列表(<code>ls</code>)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> option<br>-F 添加指示符,在目录名后加了正斜线（/），在可执行文件的后面加个星号<br>-a 显示隐藏文件和普通文件及目录<br>-R 递归选项,列出了当前目录下包含的子目录中的文件<br>-l 列表格式的输出<br><br>$ <span class="hljs-built_in">ls</span> -l <br>total 48 <br>drwxr-xr-x 2 christine christine 4096 Apr 22 20:37 Desktop <br>-rwxrw-r-- 1 christine christine  54 May 21 11:26 my_script <br><span class="hljs-comment"># 参数说明</span><br><span class="hljs-comment"># 文件类型[目录（ d ）,文件（ - ）,字符型文件（ c ）,块设备（ b ）]</span><br><span class="hljs-comment"># 文件的权限 </span><br><span class="hljs-comment"># 文件的硬链接总数； </span><br><span class="hljs-comment"># 文件属主的用户名； </span><br><span class="hljs-comment"># 文件属组的组名； </span><br><span class="hljs-comment"># 文件的大小（以字节为单位）； </span><br><span class="hljs-comment"># 文件的上次修改时间； </span><br><span class="hljs-comment"># 文件名或目录名。 </span><br><br><span class="hljs-comment"># 过滤输出</span><br><span class="hljs-comment"># 文件扩展匹配（file globbing）</span><br><span class="hljs-comment"># 问号（ ? ）代表一个字符； </span><br><span class="hljs-comment"># 星号（ * ）代表零个或多个字符</span><br>$ <span class="hljs-built_in">ls</span> -l my_scr?pt <br>$ <span class="hljs-built_in">ls</span> -l my* <br><span class="hljs-built_in">ls</span> -l my_scr[ai]pt <br></code></pre></td></tr></table></figure>

<h3 id="处理文件"><a href="#处理文件" class="headerlink" title="处理文件"></a>处理文件</h3><h4 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">touch</span> new_file<br></code></pre></td></tr></table></figure>

<h4 id="复制文件"><a href="#复制文件" class="headerlink" title="复制文件"></a>复制文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> <span class="hljs-built_in">source</span> destination<br>-p  same as --preserve 保留时间戳，权限等 mode,ownership,timestamps<br>-R, -r, --recursive 递归拷贝 copy directories recursively<br></code></pre></td></tr></table></figure>

<h4 id="链接文件"><a href="#链接文件" class="headerlink" title="链接文件"></a>链接文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs bash">在Linux中有两种不同类型的文件链接： 1.符号链接  2.硬链接 <br><span class="hljs-comment"># 符号链接,一个文件指向存放在虚拟目录结构中某个地方的另一个文件,这两个通过符号链接在一起的文件，彼此的内容并不相同</span><br><span class="hljs-comment"># 创建符号链接</span><br>$ <span class="hljs-built_in">ls</span> -l data_file <br>-rw-rw-r-- 1 christine christine 1092 May 21 17:27 data_file <br>$ <span class="hljs-built_in">ln</span> -s data_file  sl_data_file <br>$ <span class="hljs-built_in">ls</span> -l *data_file <br>-rw-rw-r-- 1 christine christine 1092 May 21 17:27 data_file <br>lrwxrwxrwx 1 christine christine    9 May 21 17:29 sl_data_file -&gt; data_file <br><br><span class="hljs-comment"># 证明链接文件是独立文件,需要查看inode编号。文件或目录的inode编号是一个用于标识的唯一数字，这个数字由内核分配给文件系统中的每一个对象 </span><br>$ <span class="hljs-built_in">ls</span> -i *data_file <br>296890 data_file  296891 sl_data_file <br><br><span class="hljs-comment"># 硬链接,会创建独立的虚拟文件，其中包含了原始文件的信息及位置。但是它们从根本上而言是同一个文件。引用硬链接文件等同于引用了源文件</span><br>$ <span class="hljs-built_in">ls</span> -l code_file <br>-rw-rw-r-- 1 christine christine 189 May 21 17:56 code_file <br>$ <span class="hljs-built_in">ln</span> code_file  hl_code_file <br>$ <span class="hljs-built_in">ls</span> -li *code_file <br>296892 -rw-rw-r-- 2 christine christine 189 May 21 17:56  code_file <br>296892 -rw-rw-r-- 2 christine christine 189 May 21 17:56  hl_code_file <br><span class="hljs-comment"># 注意: 链接计数（列表中第三项）显示这两个文件都有两个链接</span><br><span class="hljs-comment"># 只能对处于同一存储媒体的文件创建硬链接。要想在不同存储媒体的文件之间创建链接，只能使用符号链接。</span><br><br></code></pre></td></tr></table></figure>

<h4 id="重命名文件-移动-moving"><a href="#重命名文件-移动-moving" class="headerlink" title="重命名文件(移动&#x2F;moving)"></a>重命名文件(移动&#x2F;moving)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># mv 来移动文件的位置</span><br>$ <span class="hljs-built_in">mv</span> src dest<br><br><span class="hljs-comment"># mv 命令移动文件位置并修改文件名称</span><br>$ <span class="hljs-built_in">mv</span> /home/christine/Pictures/fzll  /home/christine/fall <br></code></pre></td></tr></table></figure>

<h4 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">rm</span> option file<br>-f  --force 强制删除(ignore nonexistent files and arguments, never prompt)<br>-i  删前提示(prompt before every removal)<br>-r, -R, --recursive 递归删除(remove directories and their contents recursively)<br><br>$ <span class="hljs-built_in">rm</span> -rf file_or_dir<br></code></pre></td></tr></table></figure>

<h3 id="处理目录"><a href="#处理目录" class="headerlink" title="处理目录"></a>处理目录</h3><h4 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> New_Dir <br>-p, --parents 递归创建目录 no error <span class="hljs-keyword">if</span> existing, make parent directories as needed<br>$ <span class="hljs-built_in">mkdir</span> -p New_Dir/Sub_Dir/Under_Dir <br></code></pre></td></tr></table></figure>

<h4 id="删除目录"><a href="#删除目录" class="headerlink" title="删除目录"></a>删除目录</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">rmdir</span> New_Dir <br><span class="hljs-comment"># 默认情况下， rmdir命令只删除空目录</span><br><span class="hljs-comment"># 可以使用rm递归删除</span><br><span class="hljs-built_in">rm</span> -rf New_Dir<br></code></pre></td></tr></table></figure>

<h4 id="查看目录-tree"><a href="#查看目录-tree" class="headerlink" title="查看目录(tree)"></a>查看目录(tree)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># tree 工具 :美观的方式展示目录、子目录及其中的文件</span><br>tree <span class="hljs-built_in">dir</span> <br></code></pre></td></tr></table></figure>

<h3 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h3><h4 id="查看文件类型"><a href="#查看文件类型" class="headerlink" title="查看文件类型"></a>查看文件类型</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">file file_name<br><br>$ file my_file <br>my_file: ASCII text <span class="hljs-comment"># 文本文件</span><br>$ file New_Dir <br>New_Dir: directory <span class="hljs-comment"># 目录</span><br>$ file sl_data_file <br>sl_data_file: symbolic <span class="hljs-built_in">link</span> to <span class="hljs-string">&#x27;data_file&#x27;</span>  <span class="hljs-comment"># 符号链接的文件</span><br>$ file my_script <br>my_script: Bourne-Again shell script, ASCII text executable  <span class="hljs-comment"># 脚本文件</span><br>$ file /bin/ls <br>/bin/ls: ELF 64-bit LSB  executable, x86-64, version 1 (SYSV),  <span class="hljs-comment"># 二进制可执行程序</span><br>dynamically linked (uses shared libs), <span class="hljs-keyword">for</span> GNU/Linux 2.6.24,  <br></code></pre></td></tr></table></figure>
<h4 id="查看整个文件"><a href="#查看整个文件" class="headerlink" title="查看整个文件"></a>查看整个文件</h4><h5 id="1-cat命令"><a href="#1-cat命令" class="headerlink" title="1.cat命令"></a>1.cat命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> file <span class="hljs-comment">#显示文本文件中所有数据</span><br>-n 加上行号<br>-b 给有文本的行加上行号<br></code></pre></td></tr></table></figure>

<h4 id="2-more命令"><a href="#2-more命令" class="headerlink" title="2.more命令"></a>2.more命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">more file <span class="hljs-comment"># 分页工具</span><br>空格:换页<br>回车:逐行<br>q:退出<br></code></pre></td></tr></table></figure>

<h5 id="3-less命令"><a href="#3-less命令" class="headerlink" title="3.less命令"></a>3.less命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">less file<br><span class="hljs-comment"># less is more, more命令的升级版</span><br></code></pre></td></tr></table></figure>

<h4 id="查看部分文件"><a href="#查看部分文件" class="headerlink" title="查看部分文件"></a>查看部分文件</h4><h5 id="1-tail命令"><a href="#1-tail命令" class="headerlink" title="1.tail命令"></a>1.tail命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># tai命令会显示文件最后几行的内容。默认情况下，它会显示文件的末尾10行</span><br><span class="hljs-built_in">tail</span> file<br>-n, --lines=[+]NUM output  the last NUM lines, instead of the last 10; or use -n +NUM to output starting with line NUM 控制显示行数<br>-f, --follow[=&#123;name|descriptor&#125;]<br>              output appended data as the file grows;<br>              an absent option argument means <span class="hljs-string">&#x27;descriptor&#x27;</span><br>              允许你在其他进程使用该文件时查看文件的内容。<span class="hljs-built_in">tail</span> 命令会保持活动状态，并不断显示添加到文件              中的内容。这是实时监测系统日志的绝妙方式。 <br>$ <span class="hljs-built_in">tail</span> -n 2 log_file <span class="hljs-comment"># 显示最后两行</span><br>line19 <br>Last line - line20 <br></code></pre></td></tr></table></figure>

<h5 id="2-head命令"><a href="#2-head命令" class="headerlink" title="2.head命令"></a>2.head命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># head命令，显示文件开头那些行的内容。默认情况下，它会显示文件前10行的文本.\</span><br><span class="hljs-built_in">head</span> file<br><br><span class="hljs-built_in">head</span> -5 log_file <span class="hljs-comment">#显示5行</span><br></code></pre></td></tr></table></figure>

<h2 id="2-更多的bash-shell命令"><a href="#2-更多的bash-shell命令" class="headerlink" title="2.更多的bash shell命令"></a>2.更多的bash shell命令</h2><h3 id="监测程序"><a href="#监测程序" class="headerlink" title="监测程序"></a>监测程序</h3><h4 id="探查进程-ps"><a href="#探查进程-ps" class="headerlink" title="探查进程(ps)"></a>探查进程(<code>ps</code>)</h4><p>Linux系统中使用的GNU <code>ps</code> 命令支持3种不同类型的命令行参数： </p>
<ol>
<li>Unix风格的参数，前面加单破折线, Unix风格的参数是从贝尔实验室开发的AT&amp;T Unix系统上原有的 ps 命令继承下来的</li>
<li>BSD风格的参数，前面不加破折线； </li>
<li>GNU风格的长参数，前面加双破折线。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><code class="hljs bash">ps option<br><span class="hljs-comment"># Unix风格的ps命令参数 </span><br>-A  显示所有进程 <br>-N  显示与指定参数不符的所有进程 <br>-a  显示除控制进程(session leader)和无终端进程外的所有进程 <br>-d  显示除控制进程外的所有进程 <br>-e  显示所有进程 <br>-C cmdlist  显示包含在cmdlist列表中的进程 <br>-G grplist  显示组ID在grplist列表中的进程 <br>-U userlist  显示属主的用户ID在userlist列表中的进程 <br>-g grplist  显示会话或组ID在grplist列表中的进程<br>-p pidlist  显示PID在pidlist列表中的进程 <br>-s sesslist  显示会话ID在sesslist列表中的进程 <br>-t ttylist  显示终端ID在ttylist列表中的进程 <br>-u userlist  显示有效用户ID在userlist列表中的进程 <br>-F  显示更多额外输出（相对-f参数而言） <br>-O format  显示默认的输出列以及format列表指定的特定列 <br>-M  显示进程的安全信息 <br>-c  显示进程的额外调度器信息 <br>-f  显示完整格式的输出 <br>-j  显示任务信息 <br>-l  显示长列表 <br>-o format  仅显示由format指定的列 <br>-y  不要显示进程标记（process flag，表明进程状态的标记） <br>-Z  显示安全标签（security context） ① 信息 <br>-H  用层级格式来显示进程（树状，用来显示父进程） <br>-n namelist  定义了WCHAN列显示的值 <br>-w  采用宽输出模式，不限宽度显示 <br>-L  显示进程中的线程 <br>-V  显示ps命令的版本号 <br><span class="hljs-comment"># GNU长参数 </span><br>--deselect  显示所有进程，命令行中列出的进程 <br>--Group grplist  显示组ID在grplist列表中的进程 <br>--User userlist  显示用户ID在userlist列表中的进程 <br>--group grplist  显示有效组ID在grplist列表中的进程 <br>--pid pidlist  显示PID在pidlist列表中的进程 <br>--ppid pidlist  显示父PID在pidlist列表中的进程 <br>--sid sidlist  显示会话ID在sidlist列表中的进程 <br>--<span class="hljs-built_in">tty</span> ttylist  显示终端设备号在ttylist列表中的进程 <br>--user userlist  显示有效用户ID在userlist列表中的进程 <br>--format format  仅显示由format指定的列 <br>--context  显示额外的安全信息 <br>--cols n  将屏幕宽度设置为n列 <br>--columns n  将屏幕宽度设置为n列 <br>--cumulative  包含已停止的子进程的信息 <br>--forest  用层级结构显示出进程和父进程之间的关系 <br>--headers  在每页输出中都显示列的头 <br>--no-headers  不显示列的头 <br>--lines n  将屏幕高度设为n行 <br>--rows n  将屏幕高度设为n排 <br>--<span class="hljs-built_in">sort</span> order  指定将输出按哪列排序 <br>--width n  将屏幕宽度设为n列 <br>--<span class="hljs-built_in">help</span>  显示帮助信息 <br>--info  显示调试信息 <br>--version  显示ps命令的版本号 <br><span class="hljs-comment"># 默认情况下， ps命令只会显示运行在当前控制台下的属于当前用户的进程</span><br>$ ps <br>PID TTY          TIME CMD <br>3081 pts/0    00:00:00 bash <br>3209 pts/0    00:00:00 ps <br>$<br><span class="hljs-comment"># -ef选项 -e 参数指定显示所有运行在系统上的进程； -f 参数则扩展了输出</span><br>$ ps -ef <br>UID        PID  PPID  C STIME TTY          TIME CMD <br>root        1    0  0 11:29 ?        00:00:01 init [5] <br>root        2    0  0 11:29 ?        00:00:00 [kthreadd] <br>root      3078  1981  0 12:00 ?        00:00:00 sshd: rich [priv] <br>rich      3080  3078  0 12:00 ?        00:00:00 sshd: rich@pts/0 <br>rich      3081  3080  0 12:00 pts/0    00:00:00 -bash <br>rich      4445  3081  3 13:48 pts/0    00:00:00 ps -ef <br><span class="hljs-comment"># 参数说明</span><br>UID：启动这些进程的用户。 <br>PID：进程的进程ID。 <br>PPID：父进程的进程号（如果该进程是由另一个进程启动的）。 <br>C：进程生命周期中的CPU利用率。 <br>STIME：进程启动时的系统时间。 <br>TTY：进程启动时的终端设备。 <br>TIME：运行进程需要的累计CPU时间。 <br>CMD：启动的程序名称。 <br><br><span class="hljs-comment"># -l 参数，它会产生一个长格式输出。</span><br>$ ps -l <br>F S  UID PID  PPID  C PRI  NI ADDR SZ WCHAN  TTY      TIME  CMD <br>0 S  500 3081  3080  0  80  0 -  1173 <span class="hljs-built_in">wait</span> pts/0  00:00:00 bash <br>0 R  500 4463  3081  1  80  0 -  1116 -    pts/0  00:00:00 ps <br><span class="hljs-comment"># 参数说明</span><br>F ：内核分配给进程的系统标记。 <br>S ：进程的状态（O代表正在运行；S代表在休眠；R代表可运行，正等待运行；Z代表僵化，进程已结束但父进程已不存在；T代表停止）。 <br>PRI ：进程的优先级（越大的数字代表越低的优先级）。 <br>NI ：谦让度值用来参与决定优先级。 <br>ADDR ：进程的内存地址。 <br>SZ ：假如进程被换出，所需交换空间的大致大小。 <br>WCHAN ：进程休眠的内核函数的地址。<br><br><span class="hljs-comment"># 常用ps命令选项</span><br>$ ps -elf<br><br><span class="hljs-comment"># 显示进程树</span><br>$ ps --forest<br></code></pre></td></tr></table></figure>

<h4 id="实时监测进程-top"><a href="#实时监测进程-top" class="headerlink" title="实时监测进程 (top)"></a>实时监测进程 (top)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs bash">top - 09:42:15 up 10 days,  9:55,  1 user,  load average: 0.00, 0.00, 0.00<br>Tasks:  22 total,  1 running,  21 sleeping,  0 stopped,  0 zombie<br>Cpu(s):  0.3%us,  0.0%sy,  0.0%ni, 99.7%<span class="hljs-built_in">id</span>,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st<br>Mem:    524288k total,  110564k used,  413724k free,        0k buffers<br>Swap:    65536k total,    65536k used,        0k free,    28868k cached<br>  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND<br>    1 root      20  0 19232  116  24 S  0.0  0.0  0:00.01 init<br>    3 root      20  0    0    0    0 S  0.0  0.0  0:00.00 khelper/512917<br>  866 mysql    20  0  373m 1336  128 S  0.0  0.3  1:36.24 mysqld<br>  943 root      20  0 1194m  28m 3664 S  0.0  5.6  0:42.29 node<br>11213 root      20  0 11440 1788 1400 S  0.0  0.3  0:00.00 bash<br><br><span class="hljs-comment"># 说明</span><br><span class="hljs-comment">## 第一部分 :系统的概况</span><br><br><span class="hljs-comment"># 第一行显示了当前时间、系统的运行时间、登录的用户数以及系统的平均负载。</span><br><span class="hljs-comment"># 平均负载有3个值：最近1分钟的、最近5分钟的和最近15分钟的平均负载。值越大说明系统的负载越高。由于进程短期的突发性活动，出现最近1分钟的高负载值也很常见，但如果近15分钟内的平均负载都很高，就说明系统可能有问题</span><br><br><span class="hljs-comment"># 第二行显示了进程概要信息—— top命令的输出中将进程叫作任务（task）：有多少进程处在运行、休眠、停止或是僵化状态（僵化状态是指进程完成了，但父进程没有响应）。 </span><br><br><span class="hljs-comment"># 第三行显示了CPU的概要信息。 top 根据进程的属主（用户还是系统）和进程的状态（运行、空闲还是等待）将CPU利用率分成几类输出</span><br><br><span class="hljs-comment"># 第四行显示了系统的物理内存：总共有多少内存，当前用了多少，还有多少空闲</span><br><br><span class="hljs-comment"># 第五行显示了系统交换空间的状态</span><br><br><span class="hljs-comment">## 第二部分：当前运行中的进程的详细列表</span><br><br>PID：进程的ID。 <br>USER：进程属主的名字。 <br>PR：进程的优先级。 <br>NI：进程的谦让度值。 <br>VIRT：进程占用的虚拟内存总量。 <br>RES：进程占用的物理内存总量。 <br>SHR：进程和其他进程共享的内存总量。 <br>S：进程的状态（D代表可中断的休眠状态，R代表在运行状态，S代表休眠状态，T代表跟踪状态或停止状态，Z代表僵化状态）。 <br>%CPU：进程使用的CPU时间比例。 <br>%MEM：进程使用的内存占可用内存的比例。 <br>TIME+：自进程启动到目前为止的CPU时间总量。 <br>COMMAND：进程所对应的命令行名称，也就是启动的程序名。<br><br><span class="hljs-comment"># 默认情况下,top 命令在启动时会按照 %CPU 值对进程排序。可以在 top 运行时使用多种交互命令重新排序。每个交互式命令都是单字符。</span><br>f :选择对输出进行排序的字段，<br>d :修改轮询间隔。<br>q :退出 <br></code></pre></td></tr></table></figure>

<h4 id="结束进程"><a href="#结束进程" class="headerlink" title="结束进程"></a>结束进程</h4><h5 id="Linux进程信号"><a href="#Linux进程信号" class="headerlink" title="Linux进程信号"></a>Linux进程信号</h5><p>在Linux中，进程之间通过信号来通信。进程的信号就是预定义好的一个消息，进程能识别它并决定忽略还是作出反应。进程如何处理信号是由开发人员通过编程来决定的。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Linux进程信号</span><br>信号 名称  描述 <br>1    HUP  挂起 <br>2    INT  中断 <br>3    QUIT  结束运行 <br>9    KILL  无条件终止 <br>11  SEGV  段错误 <br>15  TERM  尽可能终止 <br>17  STOP  无条件停止运行，但不终止 <br>18  TSTP  停止或暂停，但继续在后台运行 <br>19  CONT  在STOP或TSTP之后恢复执行 <br></code></pre></td></tr></table></figure>

<h5 id="kill命令"><a href="#kill命令" class="headerlink" title="kill命令"></a>kill命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># kill 命令可通过进程ID（PID）给进程发信号。默认情况下， kill 命令会向命令行中列出的全部PID发送一个 TERM 信号</span><br><span class="hljs-comment"># 要发送进程信号，你必须是进程的属主或登录为root用户</span><br><br><span class="hljs-comment"># -s 参数支持指定信号名或信号值</span><br>$ <span class="hljs-built_in">kill</span> -s HUP 3940 <br><br><span class="hljs-comment"># 常用kill命令,强制终止进程</span><br>$ <span class="hljs-built_in">kill</span> -9 3940<br></code></pre></td></tr></table></figure>

<h5 id="killall命令"><a href="#killall命令" class="headerlink" title="killall命令"></a>killall命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># killall 它支持通过进程名而不是PID来结束进程。 killall 命令也支持通配符</span><br>$ killall http* <br></code></pre></td></tr></table></figure>

<h3 id="监测磁盘空间"><a href="#监测磁盘空间" class="headerlink" title="监测磁盘空间"></a>监测磁盘空间</h3><h4 id="挂载存储媒体"><a href="#挂载存储媒体" class="headerlink" title="挂载存储媒体"></a>挂载存储媒体</h4><p>Linux文件系统将所有的磁盘都并入一个虚拟目录下。在使用新的存储媒体之前，需要把它放到虚拟目录下。这项工作称为挂载（mounting）</p>
<h5 id="1-mount命令"><a href="#1-mount命令" class="headerlink" title="1.mount命令"></a>1.mount命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Linux上用来挂载媒体的命令叫作mount 。默认情况下， mount命令会输出当前系统上挂载的设备列表</span><br>$ mount <br>proc on /proc <span class="hljs-built_in">type</span> proc (rw) <br>sysfs on /sys <span class="hljs-built_in">type</span> sysfs (rw)<br>/dev/sda1 on /boot <span class="hljs-built_in">type</span> ext3 (rw) <br>sunrpc on /var/lib/nfs/rpc_pipefs <span class="hljs-built_in">type</span> rpc_pipefs (rw) /dev/sdb1 on /media/disk <span class="hljs-built_in">type</span> vfat (rw,nosuid,nodev,uhelper=hal,shortname=lower,uid=503) <br>$ <br><span class="hljs-comment"># mount 命令提供如下四部分信息 </span><br><span class="hljs-comment"># 媒体的设备文件名 </span><br><span class="hljs-comment"># 媒体挂载到虚拟目录的挂载点 </span><br><span class="hljs-comment"># 文件系统类型 </span><br><span class="hljs-comment"># 已挂载媒体的访问状态 </span><br><br><span class="hljs-comment"># 手动在虚拟目录中挂载设备命令</span><br>mount -t <span class="hljs-built_in">type</span> device directory <br><span class="hljs-comment"># type:指定了磁盘被格式化的文件系统类型</span><br><span class="hljs-comment">## vfat：Windows长文件系统。 </span><br><span class="hljs-comment">## ntfs：Windows NT、XP、Vista以及Windows 7中广泛使用的高级文件系统。 </span><br><span class="hljs-comment">## iso9660：标准CD-ROM文件系统。 </span><br><span class="hljs-comment"># device:存储设备的设备文件的位置</span><br><span class="hljs-comment"># directory:挂载点在虚拟目录中的位置</span><br><br><span class="hljs-comment"># 手动将U盘/dev/sdb1挂载到/media/disk</span><br>mount -t vfat /dev/sdb1 /media/disk <br><br><span class="hljs-comment"># mount命令的参数 </span><br>-a  挂载/etc/fstab文件中指定的所有文件系统 <br>-f  使mount命令模拟挂载设备，但并不真的挂载 <br>-F  和-a参数一起使用时，会同时挂载所有文件系统 <br>-v  详细模式，将会说明挂载设备的每一步 <br>-I  不启用任何/sbin/mount.filesystem下的文件系统帮助文件 <br>-l  给ext2、ext3或XFS文件系统自动添加文件系统标签 <br>-n  挂载设备，但不注册到/etc/mtab已挂载设备文件中 <br>-p num  进行加密挂载时，从文件描述符num中获得密码短语 <br>-s  忽略该文件系统不支持的挂载选项 <br>-r  将设备挂载为只读的 <br>-w  将设备挂载为可读写的（默认参数） <br>-L label  将设备按指定的label挂载 <br>-U uuid  将设备按指定的uuid挂载 <br>-O  和-a参数一起使用，限制命令只作用到特定的一组文件系统上 <br>-o  给文件系统添加特定的选项 <br><br>-o 参数允许在挂载文件系统时添加一些以逗号分隔的额外选项。<br><span class="hljs-comment"># 常用的选项。 </span><br>ro ：以只读形式挂载。 <br>rw ：以读写形式挂载。 <br>user ：允许普通用户挂载文件系统。 <br>check=none ：挂载文件系统时不进行完整性校验。 <br>loop ：挂载一个文件。 <br></code></pre></td></tr></table></figure>

<h5 id="2-umount命令"><a href="#2-umount命令" class="headerlink" title="2.umount命令"></a>2.umount命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 从Linux系统上移除一个可移动设备时，不能直接从系统上移除，而应该先卸载。</span><br><span class="hljs-comment"># umount 命令支持通过设备文件或者是挂载点来指定要卸载的设备</span><br>umount [directory | device ] <br><br><span class="hljs-comment"># 如果有任何程序正在使用设备上的文件，系统就不会允许你卸载它</span><br>[root@testbox mnt]<span class="hljs-comment"># umount /home/rich/mnt </span><br>umount: /home/rich/mnt: device is busy  <br>[root@testbox mnt]<span class="hljs-comment"># cd /home/rich </span><br>[root@testbox rich]<span class="hljs-comment"># umount /home/rich/mnt </span><br>[root@testbox rich]<span class="hljs-comment"># ls -l mnt </span><br>total 0 <br><span class="hljs-comment">#  如果在卸载设备时，系统提示设备繁忙，无法卸载设备，通常是有进程还在访问该设备或使用该设备上的文件。</span><br><span class="hljs-comment">#  这时可用 lsof 命令获得使用它的进程信息，然后在应用中停止使用该设备或停止该进程。 lsof 命令的用法很简</span><br><span class="hljs-comment">#  单： lsof /path/to/device/node ，或者 lsof /path/to/mount/point 。</span><br></code></pre></td></tr></table></figure>

<h4 id="使用-df-命令"><a href="#使用-df-命令" class="headerlink" title="使用 df 命令"></a>使用 df 命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看所有已挂载磁盘的使用情况, df命令会显示每个有数据的已挂载文件系统</span><br>$ <span class="hljs-built_in">df</span> <br>Filesystem          1K-blocks      Used Available Use% Mounted on <br>/dev/sda2            18251068  7703964  9605024  45% / <br>/dev/sda1              101086    18680    77187  20% /boot <br><span class="hljs-comment"># 参数说明</span><br><span class="hljs-comment">## 设备的设备文件位置； </span><br><span class="hljs-comment">## 能容纳多少个1024字节大小的块； </span><br><span class="hljs-comment">## 已用了多少个1024字节大小的块； </span><br><span class="hljs-comment">## 还有多少个1024字节大小的块可用； </span><br><span class="hljs-comment">## 已用空间所占的比例； </span><br><span class="hljs-comment">## 设备挂载到了哪个挂载点上。 </span><br><br><span class="hljs-comment"># 常用选项 -h(human reading)，查看可用空间</span><br>$ <span class="hljs-built_in">df</span> -h <br>Filesystem            Size  Used Avail Use% Mounted on <br>/dev/sdb2              18G  7.4G  9.2G  45% / <br>/dev/sda1              99M  19M  76M  20% /boot <br></code></pre></td></tr></table></figure>

<h4 id="使用-du-命令"><a href="#使用-du-命令" class="headerlink" title="使用 du 命令"></a>使用 du 命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># du命令可以显示某个特定目录（默认情况下是当前目录）的磁盘使用情况</span><br><span class="hljs-comment"># 默认情况下， du 命令会显示当前目录下所有的文件、目录和子目录的磁盘使用情况，它会以磁盘块为单位来表明每个文件或目录占用了多大存储空间。对标准大小的目录来说，这个输出会是一个比较长的列表</span><br>$ <span class="hljs-built_in">du</span> <br>484    ./.gstreamer-0.10 <br>8      ./Templates <br>8      ./Download <br>8      ./.ccache/7/0 <br><span class="hljs-comment"># 每行输出左边的数值是每个文件或目录占用的磁盘块数。注意，这个列表是从目录层级的最底部开始，然后按文件、子目录、目录逐级向上</span><br><br><span class="hljs-comment"># 常见参数</span><br>-c ：显示所有已列出文件总的大小。 <br>-h ：按用户易读的格式输出大小，即用K替代千字节，用M替代兆字节，用G替代吉字节。 <br>-s ：显示每个输出参数的总计。 <br><br><span class="hljs-comment"># 常见用法 查看当前目录所有的文件，目录和子目录的磁盘使用情况</span><br><span class="hljs-built_in">du</span> -h<br></code></pre></td></tr></table></figure>

<h3 id="处理数据文件"><a href="#处理数据文件" class="headerlink" title="处理数据文件"></a>处理数据文件</h3><h4 id="排序数据"><a href="#排序数据" class="headerlink" title="排序数据"></a>排序数据</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># sort命令按照会话指定的默认语言的排序规则对文本文件中的数据行排序</span><br><span class="hljs-built_in">sort</span> [options] file<br><span class="hljs-comment"># sort命令参数 </span><br>-b  --ignore-leading-blanks  排序时忽略起始的空白 <br>-C  --check=quiet  不排序，如果数据无序也不要报告 <br>-c  --check  不排序，但检查输入数据是不是已排序；未排序的话，报告 <br>-d  --dictionary-order  仅考虑空白和字母，不考虑特殊字符 <br>-f  --ignore-case  默认情况下，会将大写字母排在前面；这个参数会忽略大小写 <br>-g  --general-number-sort  按通用数值来排序（跟-n不同，把值当浮点数来排序，支持科学计数法表示的值） <br>-i  --ignore-nonprinting  在排序时忽略不可打印字符 <br>-k  --key=POS1[,POS2]  排序从POS1位置开始；如果指定了POS2的话，到POS2位置结束 <br>-M  --month-sort  用三字符月份名按月份排序 <br>-m  --merge  将两个已排序数据文件合并 <br>-n  --numeric-sort  按字符串数值来排序（并不转换为浮点数） <br>-o  --output=file  将排序结果写出到指定的文件中 <br>-R  --random-sort  按随机生成的散列表的键值排序 <br>  --random-source=FILE  指定-R参数用到的随机字节的源文件 <br>-r  --reverse  反序排序（升序变成降序） <br>-S  --buffer-size=SIZE  指定使用的内存大小 <br>-s  --stable  禁用最后重排序比较 <br>-T  --temporary-directory=DIR  指定一个位置来存储临时工作文件 <br>-t  --field-separator=SEP  指定一个用来区分键位置的字符 <br>-u  --unique  和-c参数一起使用时，检查严格排序；不和-c参数一起用时，仅输出第一例相似的两行 <br>-z  --zero-terminated  用NULL字符作为行尾，而不是用换行符 <br><br><span class="hljs-comment"># 常见用法</span><br><span class="hljs-comment"># /etc/passwd根据用户ID进行数值排序</span><br>$ <span class="hljs-built_in">sort</span> -t <span class="hljs-string">&#x27;:&#x27;</span> -k 3 -n /etc/passwd <br>root:x:0:0:root:/root:/bin/bash <br>bin:x:1:1:bin:/bin:/sbin/nologin <br><br><span class="hljs-comment"># 查看占用空间</span><br>$ <span class="hljs-built_in">du</span> -sh * | <span class="hljs-built_in">sort</span> -nr <br>1008k  mrtg-2.9.29.tar.gz <br>972k    bldg1 <br>888k    fbs2.pdf <br><br></code></pre></td></tr></table></figure>

<h4 id="搜索数据"><a href="#搜索数据" class="headerlink" title="搜索数据"></a>搜索数据</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># grep 命令会在输入或指定的文件中查找包含匹配指定模式的字符的行。 grep 的输出就是包含了匹配模式的行</span><br><span class="hljs-comment"># 默认情况下， grep 命令用基本的Unix风格正则表达式来匹配模式</span><br>grep [options] pattern [file]<br><span class="hljs-comment"># 常见参数 </span><br>-v 反向搜索（输出不匹配该模式的行）<br>-n 显示匹配模式的行所在的行号<br>-c 含有匹配的模式行数<br>-e 指定多个匹配模式<br>$ grep -e t -e f file1 <br><br><span class="hljs-comment"># egrep 命令是 grep 的一个衍生，支持POSIX扩展正则表达式。POSIX扩展正则表达式含有更多的可以用来指定匹配模式的字符</span><br><span class="hljs-comment">#  fgrep 则是另外一个版本，支持将匹配模式指定为用换行符分隔的一列固定长度的字符串</span><br><br></code></pre></td></tr></table></figure>

<h4 id="压缩数据"><a href="#压缩数据" class="headerlink" title="压缩数据"></a>压缩数据</h4><p>#####1. 压缩文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">gzip file_name<br></code></pre></td></tr></table></figure>

<p>#####2.解压文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">gunzip file_name<br></code></pre></td></tr></table></figure>

<h4 id="归档数据"><a href="#归档数据" class="headerlink" title="归档数据"></a>归档数据</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar <span class="hljs-keyword">function</span> [options] object1 object2 ... <br><span class="hljs-comment"># tar命令的功能 </span><br>-A  --concatenate  将一个已有tar归档文件追加到另一个已有tar归档文件 <br>-c  --create  创建一个新的tar归档文件 <br>-d  --diff  检查归档文件和文件系统的不同之处 <br>  --delete  从已有tar归档文件中删除 <br>-r  --append  追加文件到已有tar归档文件末尾 <br>-t  --list  列出已有tar归档文件的内容 <br>-u  --update  将比tar归档文件中已有的同名文件新的文件追加到该tar归档文件中 <br>-x  --extract  从已有tar归档文件中提取文件 <br><span class="hljs-comment"># tar命令选项 </span><br>-C <span class="hljs-built_in">dir</span>  切换到指定目录 <br>-f file  输出结果到文件或设备file  <br>-j  将输出重定向给bzip2命令来压缩内容 <br>-p  保留所有文件权限 <br>-v  在处理文件时显示文件 <br>-z  将输出重定向给gzip命令来压缩内容 <br></code></pre></td></tr></table></figure>

<h5 id="1-归档文件"><a href="#1-归档文件" class="headerlink" title="1.归档文件"></a>1.归档文件</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 文件名以.tgz/.tar.gz结尾 代表是gzip压缩过的tar文件</span><br>tar -zcvf dest.tar.gz file1 dir1<br></code></pre></td></tr></table></figure>

<p>#####2.列出文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar -tf test.tar.gz<br></code></pre></td></tr></table></figure>

<h6 id="3-提取文件"><a href="#3-提取文件" class="headerlink" title="3.提取文件"></a>3.提取文件</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar -zxvf test.tar.gz<br></code></pre></td></tr></table></figure>

<h2 id="3-理解shell"><a href="#3-理解shell" class="headerlink" title="3.理解shell"></a>3.理解shell</h2><h3 id="shell-的父子关系"><a href="#shell-的父子关系" class="headerlink" title="shell 的父子关系"></a>shell 的父子关系</h3><p>用于登录某个虚拟控制器终端或在GUI中运行终端仿真器时所启动的默认的交互shell，是一个父shell</p>
<p>在CLI提示符后输入 &#x2F;bin&#x2F;bash 命令或其他等效的 bash 命令时，会创建一个新的shell程序。这个shell程序被称为子shell（child shell）。子shell也拥有CLI提示符，同样会等待命令输入.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ ps -f <br>UID        PID  PPID  C STIME TTY          TIME CMD <br>501      1841  1840  0 11:50 pts/0    00:00:00 -bash <br>501      2429  1841  4 13:44 pts/0    00:00:00 ps -f <br>$ <br>$ bash <br>$ <br>$ ps -f <br>UID        PID  PPID  C STIME TTY          TIME CMD <br>501      1841  1840  0 11:50 pts/0    00:00:00 -bash <br>501      2430  1841  0 13:44 pts/0    00:00:00 bash <br>501      2444  2430  1 13:44 pts/0    00:00:00 ps -f <br>$ <br><span class="hljs-comment"># 第一个bash shell程序，也就是父shell进程，其原始进程ID是 1814 。第二个bash shell程序，即子shell进程，其PID是 2430 。注意，子shell的父进程ID（PPID）是 1841 ，指明了这个父shell进程就是该子shell的父进程</span><br><br><span class="hljs-comment">#  bash命令行参数 </span><br>-c string  从string中读取命令并进行处理 <br>-i  启动一个能够接收用户输入的交互shell <br>-l  以登录shell的形式启动 <br>-r  启动一个受限shell，用户会被限制在默认目录中 <br>-s  从标准输入中读取命令 <br></code></pre></td></tr></table></figure>

<h4 id="查看父子进程之间的关系"><a href="#查看父子进程之间的关系" class="headerlink" title="查看父子进程之间的关系"></a>查看父子进程之间的关系</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ps -elf --forest<br></code></pre></td></tr></table></figure>

<h4 id="退出shell"><a href="#退出shell" class="headerlink" title="退出shell"></a>退出shell</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">exit</span><br></code></pre></td></tr></table></figure>

<h3 id="进程列表"><a href="#进程列表" class="headerlink" title="进程列表"></a>进程列表</h3><p>进程列表 生成一个子shell来执行对应的命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">pwd</span> ; <span class="hljs-built_in">ls</span> ; <span class="hljs-built_in">cd</span> /etc ; <span class="hljs-built_in">pwd</span> ; <span class="hljs-built_in">cd</span> ; <span class="hljs-built_in">pwd</span> ; <span class="hljs-built_in">ls</span> ; <span class="hljs-built_in">echo</span> <span class="hljs-variable">$BASH_SUBSHELL</span> <br>Documents  junk.dat  Pictures  Templates <br>0 <br><span class="hljs-comment"># 在命令输出的最后，显示的是数字 0 。这就表明这些命令不是在子shell中运行的</span><br>$ (<span class="hljs-built_in">pwd</span> ; <span class="hljs-built_in">ls</span> ; <span class="hljs-built_in">cd</span> /etc ; <span class="hljs-built_in">pwd</span> ; <span class="hljs-built_in">cd</span> ; <span class="hljs-built_in">pwd</span> ; <span class="hljs-built_in">ls</span> ; <span class="hljs-built_in">echo</span> <span class="hljs-variable">$BASH_SUBSHELL</span>) <br>Documents  junk.dat  Pictures  Templates <br>1 <br><span class="hljs-comment"># 这次在命令输入的最后显示出了数字 1 。这表明的确创建了子shell，并用于执行这些命令。 所以说，命令列表就是使用括号包围起来的一组命令，它能够创建出子shell来执行这些命令</span><br><br><span class="hljs-comment"># 进程列表是一种命令分组（command grouping）。另一种命令分组是将命令放入花括号中，并在命令列表尾部加上分号（;）。语法为 &#123; command; &#125; 。使用花括号进行命令分组并不会像进程列表那样创建出子shel</span><br><br><span class="hljs-comment"># echo $BASH_SUBSHELL 。如果该命令返回 0 ，就表明没有子shell。如果返回1 或者其他更大的数字，就表明存在子shell</span><br></code></pre></td></tr></table></figure>

<h3 id="别出心裁的子-shell-用法"><a href="#别出心裁的子-shell-用法" class="headerlink" title="别出心裁的子 shell 用法"></a>别出心裁的子 shell 用法</h3><h4 id="后台作业-background-job"><a href="#后台作业-background-job" class="headerlink" title="后台作业(background job)"></a>后台作业(background job)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">command</span> &amp;<br>[1] 2396 <span class="hljs-comment"># 1:后台作业号 2396:后台作业进程id</span><br>[1]+ Done <span class="hljs-built_in">command</span> <span class="hljs-comment">#作业完成后的提示</span><br></code></pre></td></tr></table></figure>


<p>显示当前运行在后台模式中的所有用户的进程(作业)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">jobs</span><br>[1]+ Running <span class="hljs-built_in">command</span><br></code></pre></td></tr></table></figure>

<h3 id="理解-shell-的内建命令"><a href="#理解-shell-的内建命令" class="headerlink" title="理解 shell 的内建命令"></a>理解 shell 的内建命令</h3><h4 id="外部命令"><a href="#外部命令" class="headerlink" title="外部命令"></a>外部命令</h4><p>也被称为文件系统命令，是存在于bash shell之外的程序。它们并不是shell程序的一部分。外部命令程序通常位于<code>/bin</code>、<code>/usr/bin</code>、<code>/sbin</code>或<code>/usr/sbin</code>中。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ps就是一个外部命令。你可以使用 which 和 type 命令找到它。</span><br>$ <span class="hljs-built_in">which</span> ps<br>/bin/ps<br>$<br>$ <span class="hljs-built_in">type</span> -a ps<br>ps is /bin/ps<br>$<br>$ <span class="hljs-built_in">ls</span> -l /bin/ps<br>-rwxr-xr-x 1 root root 93232 Jan  6 18:32 /bin/ps<br><span class="hljs-comment"># 当外部命令执行时，会创建出一个子进程。这种操作被称为衍生（forking）。外部命令 ps 很方便显示出它的父进程以及自己所对应的衍生子进程。 </span><br>$ ps -f <br>UID        PID  PPID  C STIME TTY          TIME CMD <br>christi+  2743  2742  0 17:09 pts/9    00:00:00 -bash <br>christi+  2801  2743  0 17:16 pts/9    00:00:00 ps -f <br><br><span class="hljs-comment"># 就算衍生出子进程或是创建了子shell，你仍然可以通过发送信号与其沟通，发送信号（signaling）使得进程间可以通过信号进行通信</span><br></code></pre></td></tr></table></figure>

<h4 id="内建命令"><a href="#内建命令" class="headerlink" title="内建命令"></a>内建命令</h4><p>内建命令和外部命令的区别在于前者不需要使用子进程来执行。它们已经和shell编译成了一体，作为shell工具的组成部分存在。不需要借助外部程序文件来运行。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># cd 和 exit 命令都内建于bash shell。可以利用 type 命令来了解某个命令是否是内建的。</span><br>$ <span class="hljs-built_in">type</span> <span class="hljs-built_in">cd</span><br><span class="hljs-built_in">cd</span> is a shell <span class="hljs-built_in">builtin</span><br>$<br>$ <span class="hljs-built_in">type</span> <span class="hljs-built_in">exit</span><br><span class="hljs-built_in">exit</span> is a shell <span class="hljs-built_in">builtin</span><br><span class="hljs-comment"># 因为既不需要通过衍生出子进程来执行，也不需要打开程序文件，内建命令的执行速度要更快，效率也更高</span><br></code></pre></td></tr></table></figure>


<p>要注意，有些命令有多种实现。例如 echo 和 pwd 既有内建命令也有外部命令。两种实现略有不同。要查看命令的不同实现，使用 type 命令的 -a 选项。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">type</span> -a <span class="hljs-built_in">echo</span><br><span class="hljs-built_in">echo</span> is a shell <span class="hljs-built_in">builtin</span><br><span class="hljs-built_in">echo</span> is /bin/echo<br>$<br>$ <span class="hljs-built_in">which</span> <span class="hljs-built_in">echo</span><br>/bin/echo<br>$<br>$ <span class="hljs-built_in">type</span> -a <span class="hljs-built_in">pwd</span><br><span class="hljs-built_in">pwd</span> is a shell <span class="hljs-built_in">builtin</span><br><span class="hljs-built_in">pwd</span> is /bin/pwd<br>$<br>$ <span class="hljs-built_in">which</span> <span class="hljs-built_in">pwd</span><br>/bin/pwd<br>$<br></code></pre></td></tr></table></figure>


<p>命令 type -a 显示出了每个命令的两种实现。注意， which 命令只显示出了外部命令文件。</p>
<h5 id="1-history命令"><a href="#1-history命令" class="headerlink" title="1.history命令"></a>1.history命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看最近用过的命令列表</span><br><span class="hljs-built_in">history</span><br>!! <span class="hljs-comment">#重新执行上一条命令</span><br>!20 <span class="hljs-comment">#唤回历史列表中任意一条命令。只需输入惊叹号和命令在历史列表中的编号即可</span><br><br><span class="hljs-comment"># 命令历史记录被保存在隐藏文件.bash_history中，它位于用户的主目录中。这里要注意的是，bash命令的历史记录是先存放在内存中，当shell退出时才被写入到历史文件中。</span><br>$ <span class="hljs-built_in">history</span> -a <span class="hljs-comment">#强制将命令历史记录提前写入写入</span><br>$ <span class="hljs-built_in">history</span> -n <span class="hljs-comment">#更新终端会话的历史记录</span><br></code></pre></td></tr></table></figure>

<p>#####2. 命令别名</p>
<p>alias 命令是另一个shell的内建命令。命令别名允许你为常用的命令（及其参数）创建另一个名称，从而将输入量减少到最低。 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#查看当前可用的别名</span><br><span class="hljs-built_in">alias</span> -p<br><br><span class="hljs-comment">#创建别名 一个别名仅在它所被定义的shell进程中才有效。</span><br><span class="hljs-built_in">alias</span> li=<span class="hljs-string">&#x27;ls -li&#x27;</span><br></code></pre></td></tr></table></figure>

<h2 id="参考书目"><a href="#参考书目" class="headerlink" title="参考书目"></a>参考书目</h2><p>《Linux命令行与shell脚本编程大全》第3版</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Linux/" class="print-no-link">#Linux</a>
      
        <a href="/tags/Shell/" class="print-no-link">#Shell</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Linux命令行(1)Linux Bash Shell命令</div>
      <div>https://wtsai92.github.io/2018/02/14/linux-cmd-1-bash-shell-command/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>wtsai92</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2018年2月14日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2018/02/15/linux-cmd-2-linux-enviroment/" title="Linux命令行(2)Linux环境变量">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Linux命令行(2)Linux环境变量</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2017/11/28/thymeleaf-3-study/" title="Thymeleaf 3 学习">
                        <span class="hidden-mobile">Thymeleaf 3 学习</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div class="disqus" style="width:100%">
    <div id="disqus_thread"></div>
    
      <script type="text/javascript">
        var disqus_config = function() {
          this.page.url = 'https://wtsai92.github.io/2018/02/14/linux-cmd-1-bash-shell-command/';
          this.page.identifier = '/2018/02/14/linux-cmd-1-bash-shell-command/';
        };
        Fluid.utils.loadComments('#disqus_thread', function() {
          var d = document, s = d.createElement('script');
          s.src = '//' + 'technonacgithub' + '.disqus.com/embed.js';
          s.setAttribute('data-timestamp', new Date());
          (d.head || d.body).appendChild(s);
        });
      </script>
    
    <noscript>Please enable JavaScript to view the comments</noscript>
  </div>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
